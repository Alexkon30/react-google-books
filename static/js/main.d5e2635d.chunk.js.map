{"version":3,"sources":["context/GlobalContext.jsx","config.js","Header.jsx","BookCard.jsx","Loader.jsx","Body.jsx","BookPage.jsx","App.jsx","store/Store.js","index.js"],"names":["GlobalContext","createContext","settings","key","Header","observer","MainStore","useContext","handleSearch","searchOptions","setLoad","fetch","then","data","json","newdata","setBooks","setTimeout","setAbility","className","type","placeholder","value","seacrh","onChange","e","setSearch","target","onKeyDown","options","id","onClick","to","defaultValue","resetIndex","setCategory","disabled","setSort","BookCard","book","src","volumeInfo","imageLinks","thumbnail","alt","title","categories","authors","join","Loader","role","Body","books","totalItems","isLoad","abilityToLoadMore","items","map","index","startIndex","incrementIndex","addItems","BookPage","useParams","useEffect","setBook","dangerouslySetInnerHTML","__html","description","category","sorting","search","makeAutoObservable","this","bool","newBooks","newBook","newCat","newSort","arr","push","subject","order","App","Provider","path","exact","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d5e2635d.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nconst GlobalContext = createContext();\r\n\r\nexport default GlobalContext\r\n","const settings = {\r\n  key: 'AIzaSyAwmoNcoRmL5Ziiy43ZGrNtQripDMEgIE8',\r\n}\r\n\r\nexport default settings\r\n","import './style.css'\r\nimport React, { useContext } from 'react'\r\nimport GlobalContext from './context/GlobalContext'\r\nimport { observer } from 'mobx-react-lite'\r\nimport { Link } from 'react-router-dom'\r\nimport settings from './config.js'\r\n\r\n\r\nconst Header = observer(() => {\r\n  const { MainStore } = useContext(GlobalContext)\r\n\r\n  const handleSearch = (searchOptions) => {\r\n    MainStore.setLoad(true)\r\n    let key = `&key=${settings.key}`\r\n\r\n\r\n    fetch(`https://www.googleapis.com/books/v1/volumes?q=${searchOptions}` + key)\r\n      .then(data => data.json())\r\n      .then(newdata => {\r\n        MainStore.setBooks(newdata)\r\n\r\n        setTimeout(() => {\r\n          MainStore.setAbility(true)\r\n          MainStore.setLoad(false)\r\n        }, 2000)\r\n      })\r\n  }\r\n\r\n\r\n  return (\r\n    <header className='container pt-3 pb-3 mt-3'>\r\n      <h1 className='text-center text-white fw-bold'>Search for books</h1>\r\n\r\n      <div className=\"row justify-content-center\">\r\n        <div className=\"col-md-8 col-lg-6 col-10\">\r\n          <div className=\"input-group mb-3\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Book title\"\r\n              value={MainStore.seacrh}\r\n              onChange={(e) => {\r\n                MainStore.setAbility(false)\r\n                MainStore.setSearch(e.target.value)\r\n              }}\r\n              onKeyDown={(e) => {\r\n                if (e.key === 'Enter') {\r\n                  handleSearch(MainStore.options)\r\n                }\r\n              }}\r\n            />\r\n            <Link\r\n              className=\"btn btn-success\"\r\n              type=\"submit\"\r\n              id=\"button-addon2\"\r\n              onClick={() => handleSearch(MainStore.options)}\r\n              to='/'\r\n            >\r\n              <i className=\"bi bi-search\"></i>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row justify-content-center mt-3\">\r\n        <div className=\"col-sm-4 col-md-3 col-lg-3 col-7 mb-2\">\r\n          <select\r\n            className=\"form-select\"\r\n            defaultValue='All'\r\n            onChange={(e) => {\r\n              MainStore.resetIndex()\r\n              MainStore.setAbility(false)\r\n              MainStore.setCategory(e.target.value)\r\n            }}>\r\n            <option value=\"0\" disabled>Categories</option>\r\n            <option value=\"All\">All</option>\r\n            <option value=\"Art\">Art</option>\r\n            <option value=\"Biography\">Biography</option>\r\n            <option value=\"Computers\">Computers</option>\r\n            <option value=\"History\">History</option>\r\n            <option value=\"Medical\">Medical</option>\r\n            <option value=\"Poetry\">Poetry</option>\r\n          </select>\r\n        </div>\r\n\r\n        <div className=\"col-sm-4 col-md-3 col-lg-3 col-7\">\r\n          <select\r\n            className=\"form-select\"\r\n            defaultValue='relevance'\r\n            onChange={(e) => {\r\n              MainStore.resetIndex()\r\n              MainStore.setAbility(false)\r\n              MainStore.setSort(e.target.value)\r\n            }\r\n            }>\r\n            <option value=\"relevance\">Relevance</option>\r\n            <option value=\"newest\">Newest</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </header >\r\n  )\r\n})\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst BookCard = ({ book }) => {\r\n\r\n  return (\r\n    <Link to={`/book/${book.id}`} className='col-md-6 col-xl-4 p-2'>\r\n      <div className=\"h-100 row m-0 bg-success p-2 text-white bg-opacity-75 rounded-3 bookCard\">\r\n        <div className=\"col w-25\">\r\n          <img src={book.volumeInfo.imageLinks?.thumbnail} alt=\"Title page\" />\r\n        </div>\r\n        <div className=\"col w-75\">\r\n          <p>{book.volumeInfo.title}</p>\r\n          <p>Categories: {book.volumeInfo.categories?.[0]}</p>\r\n          <p>Authors: {book.volumeInfo.authors?.join(', ')}</p>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default BookCard\r\n","import React from 'react'\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className=\"spinner-border\" role=\"status\">\r\n      <span className=\"visually-hidden\">Loading...</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n","import React, { useContext } from 'react'\r\nimport { observer } from 'mobx-react-lite'\r\nimport GlobalContext from './context/GlobalContext'\r\nimport BookCard from './BookCard'\r\nimport Loader from './Loader'\r\nimport settings from './config.js'\r\n\r\n\r\n\r\nconst Body = observer(() => {\r\n  const { MainStore } = useContext(GlobalContext)\r\n\r\n  const loadMore = (searchOptions, index) => {\r\n\r\n    MainStore.setLoad(true)\r\n\r\n    fetch(`https://www.googleapis.com/books/v1/volumes?q=${searchOptions}&startIndex=${index}&key=${settings.key}`)\r\n      .then(data => data.json())\r\n      .then(newdata => {\r\n        MainStore.incrementIndex()\r\n        MainStore.addItems(newdata.items)\r\n        MainStore.setLoad(false)\r\n      })\r\n  }\r\n\r\n  return (\r\n    <main className='container'>\r\n      <div className=\"row m-2\">\r\n        {MainStore.books.totalItems\r\n          ? <>\r\n            {\r\n              MainStore.isLoad && !MainStore.abilityToLoadMore\r\n                ? <div className=\"container text-center\"><Loader /></div>\r\n                : <>\r\n                  <div className=\"container text-center\">\r\n                    <h5>Total founds: {MainStore.books.totalItems}</h5>\r\n                  </div>\r\n                  {MainStore.books.items.map(book => <BookCard key={book.id} book={book} />)}\r\n\r\n                  {MainStore.abilityToLoadMore\r\n                    ? <div className=\"container text-center\">\r\n                      {MainStore.isLoad\r\n                        ? <Loader />\r\n                        : <button\r\n                          type=\"button\"\r\n                          className=\"btn btn-success btn-lg m-5\"\r\n                          onClick={() => loadMore(MainStore.options, MainStore.startIndex)}>\r\n                          Load more\r\n                        </button>}\r\n\r\n                    </div>\r\n                    : <></>\r\n                  }\r\n\r\n                </>\r\n            }\r\n          </>\r\n          : <></>\r\n        }\r\n\r\n      </div>\r\n    </main>\r\n  )\r\n})\r\n\r\nexport default Body\r\n","import React, { useEffect, useContext } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { observer } from 'mobx-react-lite'\r\nimport GlobalContext from './context/GlobalContext'\r\nimport Loader from './Loader'\r\n\r\n\r\nconst BookPage = observer(() => {\r\n  const { id } = useParams()\r\n  const { MainStore } = useContext(GlobalContext)\r\n\r\n  useEffect(() => {\r\n    MainStore.setLoad(true)\r\n    fetch(`https://www.googleapis.com/books/v1/volumes/${id}`)\r\n      .then(data => data.json())\r\n      .then(newdata => {\r\n        MainStore.setBook(newdata)\r\n        MainStore.setLoad(false)\r\n      })\r\n    // eslint-disable-next-line\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"container border p-3\">\r\n      {MainStore.isLoad\r\n        ? <Loader />\r\n        : <>\r\n          <div className=\"row\">\r\n            <div className=\"col-md-4 col-12 p-3\">\r\n              <img src={MainStore.book.volumeInfo.imageLinks?.thumbnail} alt=\"Title page\" className='w-100' />\r\n            </div>\r\n            <div className=\"col-md-8 col-12 p-3\">\r\n              <p className='fs-6 mb-3 text-secondary'>{MainStore.book.volumeInfo.categories}</p>\r\n              <p className='fs-2 fw-bold'>{MainStore.book.volumeInfo.title}</p>\r\n              <p className='text-white bg-success'>{MainStore.book.volumeInfo.authors?.join(', ')}</p>\r\n              <p className='p-2 border ' dangerouslySetInnerHTML={{ __html: MainStore.book.volumeInfo.description }}></p>\r\n            </div>\r\n          </div>\r\n        </>}\r\n\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default BookPage\r\n","import React from 'react'\nimport Header from './Header'\nimport Body from './Body'\nimport BookPage from './BookPage'\nimport Store from './store/Store'\nimport GlobalContext from './context/GlobalContext'\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom'\n\n\nconst MainStore = new Store()\n\n\nconst App = () => {\n  return (\n    <div className=\"App min-vh-100 border\">\n      <GlobalContext.Provider value={{\n        MainStore,\n      }}>\n        <Router>\n          <Header />\n          <Switch>\n            <Route path=\"/\" exact component={Body} />\n            <Route path=\"/book/:id\" component={BookPage} />\n            <Redirect to=\"/\" />\n          </Switch>\n        </Router>\n      </GlobalContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import { makeAutoObservable } from \"mobx\"\r\n\r\nclass Store {\r\n  books = {\r\n    totalItems: 0,\r\n    items: []\r\n  }\r\n\r\n  book = {\r\n    volumeInfo: {\r\n      imageLinks: {},\r\n      categories: [],\r\n      authors: [],\r\n      description: ''\r\n    }\r\n  }\r\n  category = 'All'\r\n  sorting = 'relevance'\r\n  isLoad = false\r\n  search = ''\r\n  startIndex = 30\r\n  abilityToLoadMore = false\r\n\r\n\r\n  constructor() {\r\n    makeAutoObservable(this)\r\n  }\r\n\r\n  setSearch(value) {\r\n    this.search = value\r\n  }\r\n\r\n  incrementIndex() {\r\n    this.startIndex += 30;\r\n  }\r\n\r\n  resetIndex() {\r\n    this.startIndex = 30;\r\n  }\r\n\r\n  setAbility(bool) {\r\n    this.abilityToLoadMore = bool\r\n  }\r\n\r\n  setBooks(newBooks) {\r\n    this.books = newBooks\r\n  }\r\n\r\n  setBook(newBook) {\r\n    this.book = newBook\r\n  }\r\n\r\n  setCategory(newCat) {\r\n    this.category = newCat\r\n  }\r\n\r\n  setSort(newSort) {\r\n    this.sorting = newSort\r\n  }\r\n\r\n  setLoad(bool) {\r\n    this.isLoad = bool\r\n  }\r\n\r\n  addItems(arr) {\r\n    this.books.items.push(...arr)\r\n  }\r\n\r\n  get options() {\r\n    let subject = this.category !== 'All' ? `+subject:${this.category}` : '';\r\n    let order = this.sorting !== 'relevance' ? `&orderBy=${this.sorting}` : '';\r\n    let length = `&maxResults=30`\r\n\r\n    return this.search + subject + order + length\r\n  }\r\n}\r\n\r\nexport default Store\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}